<html ng-app="countriesApp">
  <head>
    <title>Hydrane AngularJS Frontend Dev CS</title>

    <script src="http://code.highcharts.com/highcharts.js"></script>

    <script src="scripts/angular.js"></script>
    <script src="scripts/angular-resource.js"></script>
    <script src="scripts/highcharts-ng.min.js"></script>

    <script src="scripts/app.js"></script>
  </head>

  <body ng-controller="CountriesController">
    <h1>Hydrane AngularJS Frontend Dev CS</h1>

    <select
      ng-options="option for option in continentNames"
      ng-model="selectedContinent"
      ng-change="selectContinent()"
    ></select>

    <select
      ng-options="option for option in metrics"
      ng-model="selectedMetric"
    ></select>

    <select
      ng-options="option for option in chartMaxResults"
      ng-model="selectedMaxResults"
      ng-change="changeMaxResults()"
    ></select>

    <button ng-click="clickGo()">Go</button>

    <div ng-hide="isFirstLaunch">
      <highchart
        ng-show="shouldShowColumn('areaInSqKm')"
        config="areaInSqKmChartConfig"
      ></highchart>

      <highchart
        ng-show="shouldShowColumn('population')"
        config="populationChartConfig"
      ></highchart>

      <table>
        <thead>
          <th ng-click="sortBy('continentName')">continentName</th>
          <th ng-click="sortBy('countryName')">countryName</th>
          <th
            ng-click="sortBy('areaInSqKm')"
            ng-show="shouldShowColumn('areaInSqKm')"
          >
            areaInSqKm
          </th>
          <th
            ng-click="sortBy('population')"
            ng-show="shouldShowColumn('population')"
          >
            population
          </th>
        </thead>
        <tbody>
          <tr
            ng-repeat="country in filteredCountries | customOrderBy:sortProperty:sortOrderAsc"
          >
            <td>{{country.continentName}}</td>
            <td>{{country.countryName}}</td>
            <td ng-show="shouldShowColumn('areaInSqKm')">
              {{country.areaInSqKm}}
            </td>
            <td ng-show="shouldShowColumn('population')">
              {{country.population}}
            </td>
          </tr>
          <tr>
            <td></td>
            <td>TOTAL</td>
            <td ng-show="shouldShowColumn('areaInSqKm')">
              {{totalAreaInSqKm()}}
            </td>
            <td ng-show="shouldShowColumn('population')">
              {{totalPopulation()}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
